"use strict";(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[7077],{37077:(x,P,s)=>{s.r(P),s.d(P,{InstalledPluginsPage:()=>g,ProtectedInstalledPluginsPage:()=>R});var t=s(74081),h=s(27279),v=s(51926),o=s(27997),e=s(73354),T=s(27875),A=s(74758),I=s(70774),L=s(38101),M=s(93153),l=s(50086),E=s(21395),c=s(86967),_=s(1180),W=s(364),D=s(61020),m=s(40464),B=s(49402),K=s(44328),j=s(64797),y=s(85811),p=s(92401),Z=s(15816),N=s(97442),F=s(13576),S=s(87830),$=s(47184),G=s(71563),Q=s(49204),z=s(47853),H=s(75719),J=s(74919),V=s(29206),X=s(98934),Y=s(43433),b=s(8175);const g=()=>{const{formatMessage:a}=(0,D.Z)(),{notifyStatus:i}=(0,v.G)(),O=(0,_.useNotification)(),{get:U}=(0,_.useFetchClient)();(0,_.useFocusWhenNavigate)();const{status:r,data:d,error:C}=(0,m.useQuery)(["plugins"],async()=>{const{data:n}=await U("/admin/plugins");return n});return h.useEffect(()=>{d&&i(a({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:a({id:"global.plugins",defaultMessage:"Plugins"})})),C&&O({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})},[d,C,a,i,O]),r!=="success"&&r!=="error"?(0,t.jsx)(o.A,{children:(0,t.jsx)(e.o,{"aria-busy":!0,children:(0,t.jsx)(_.LoadingIndicatorPage,{})})}):(0,t.jsx)(o.A,{children:(0,t.jsxs)(e.o,{children:[(0,t.jsx)(T.T,{title:a({id:"global.plugins",defaultMessage:"Plugins"}),subtitle:a({id:"app.components.ListPluginsPage.description",defaultMessage:"List of the installed plugins in the project."})}),(0,t.jsx)(A.D,{children:(0,t.jsxs)(I.i,{colCount:2,rowCount:d?.plugins?.length??0+1,children:[(0,t.jsx)(L.h,{children:(0,t.jsxs)(M.Tr,{children:[(0,t.jsx)(l.Th,{children:(0,t.jsx)(E.Z,{variant:"sigma",textColor:"neutral600",children:a({id:"global.name",defaultMessage:"Name"})})}),(0,t.jsx)(l.Th,{children:(0,t.jsx)(E.Z,{variant:"sigma",textColor:"neutral600",children:a({id:"global.description",defaultMessage:"description"})})})]})}),(0,t.jsx)(c.p,{children:d?.plugins.map(({name:n,displayName:u,description:f})=>(0,t.jsxs)(M.Tr,{children:[(0,t.jsx)(l.Td,{children:(0,t.jsx)(E.Z,{textColor:"neutral800",variant:"omega",fontWeight:"bold",children:a({id:`global.plugins.${n}`,defaultMessage:u})})}),(0,t.jsx)(l.Td,{children:(0,t.jsx)(E.Z,{textColor:"neutral800",children:a({id:`global.plugins.${n}.description`,defaultMessage:f})})})]},n))})]})})]})})},R=()=>{const{formatMessage:a}=(0,D.Z)(),i=(0,B.useSelector)(K.s);return(0,t.jsxs)(_.CheckPagePermissions,{permissions:i.marketplace?.main,children:[(0,t.jsx)(W.q,{title:a({id:"global.plugins",defaultMessage:"Plugins"})}),(0,t.jsx)(g,{})]})}}}]);
